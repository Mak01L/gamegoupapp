(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[538],{4748:function(a,e,o){Promise.resolve().then(o.bind(o,1104))},1104:function(a,e,o){"use strict";o.r(e),o.d(e,{default:function(){return b}});var r=o(7437),i=o(2265),n=o(3303),l=o(4643);o(4358),o(9089);var s=o(3949);let t=["Apex Legends","Minecraft","Valorant","League of Legends","Fortnite","Counter-Strike","Rocket League","Call of Duty","PUBG","Overwatch","Dota 2","Genshin Impact","Roblox","Among Us","Grand Theft Auto V","FIFA","NBA 2K","Rainbow Six Siege","The Sims","World of Warcraft","Hearthstone","Destiny 2","Elden Ring","Lost Ark","ARK: Survival Evolved","Rust","Escape from Tarkov","Team Fortress 2","Paladins","Smite","Brawlhalla","Warframe","Sea of Thieves","Fall Guys","Dead by Daylight","Monster Hunter","Pok\xe9mon Unite","Mobile Legends","Clash Royale","Clash of Clans","Free Fire","Arena of Valor","Wild Rift","Stumble Guys","Diablo IV","Star Wars Battlefront","Battlefield","Halo","Left 4 Dead","Payday 2","Terraria","Stardew Valley","Phasmophobia","New World","Forza Horizon","Gran Turismo","Mario Kart","Super Smash Bros","Splatoon","Animal Crossing","Pok\xe9mon GO","Zelda: Breath of the Wild","Metin2","Tibia","RuneScape","MapleStory","Guild Wars 2","Final Fantasy XIV","Black Desert","Blade & Soul","Crossfire","Point Blank","War Thunder","World of Tanks","World of Warships","PlanetSide 2","EVE Online","Second Life","VRChat","Beat Saber","Rec Room","No Man's Sky","Among Us VR","Hunt: Showdown 1896","Gray Zone Warfare","Dark and Darker","Lost Saga","Combat Arms","Sudden Attack","KartRider","Mabinogi","Flyff","Cabal Online","Perfect World","Dragon Nest","Elsword","Grand Chase","Ragnarok Online","Mu Online","Lineage II","Aion","Tera","S4 League","Special Force","Audition Online","Gunbound","Dofus","Wakfu","Trove","Skyforge","Dauntless","Albion Online","Conqueror's Blade","Crucible","Spellbreak","Hyper Scape","Splitgate","Enlisted","World War 3","Super People","The Cycle: Frontier","V Rising","Project Zomboid","Unturned","Scum","DayZ","MORDHAU","Chivalry 2","For Honor","Mortal Online 2","Crowfall","Camelot Unchained","Ashes of Creation","Blue Protocol","Tower of Fantasy","Gran Saga","Otro"],u=["PC","PlayStation 5","PlayStation 4","PlayStation 3","PlayStation 2","PlayStation Vita","Xbox Series X","Xbox Series S","Xbox One","Xbox 360","Xbox","Nintendo Switch","Nintendo Wii U","Nintendo Wii","Nintendo 3DS","Nintendo DS","Nintendo DSi","Nintendo GameCube","Nintendo 64","Nintendo Super NES","Nintendo NES","Steam Deck","Android","iOS","Mac","Linux","Web","VR (Oculus/Meta Quest)","VR (HTC Vive)","VR (Valve Index)","VR (PlayStation VR)","Stadia","Amazon Luna","GeForce Now","Shadow","Otro"],d=["\xc1frica","Asia","Caribe","Centroam\xe9rica","Europa","Latinoam\xe9rica","Medio Oriente","Norteam\xe9rica","Ocean\xeda","Sudeste Asi\xe1tico","Suram\xe9rica","Ant\xe1rtida","Global","Otro"],c=["Afar","Abjasio","Afrik\xe1ans","Akan","Alban\xe9s","Am\xe1rico","\xc1rabe","Aragon\xe9s","Armenio","Asam\xe9s","Avar","Aymara","Azer\xed","Bambara","Bielorruso","Bengal\xed","Bislama","Bosnio","Bret\xf3n","B\xfalgaro","Birmano","Catal\xe1n","Chamorro","Checheno","Chichewa","Chino","Chuvasio","Corso","Cree","Croata","Checo","Dan\xe9s","Divehi","Neerland\xe9s","Dzongkha","Ingl\xe9s","Esperanto","Estonio","Ewe","Fero\xe9s","Fiyiano","Fin\xe9s","Franc\xe9s","Fula","Ga\xe9lico escoc\xe9s","Gallego","Ganda","Georgiano","Alem\xe1n","Griego","Guaran\xed","Gujarati","Haitiano","Hausa","Hebreo","Herero","Hindi","Hiri motu","H\xfangaro","Interlingua","Indonesio","Interlingue","Irland\xe9s","Italiano","Japon\xe9s","Javan\xe9s","Kalaallisut","Canar\xe9s","Kashmiri","Kazajo","Jemer","Kikuyu","Kinyarwanda","Kirgu\xeds","Komi","Kongo","Coreano","Kurdo","Lao","Lat\xedn","Let\xf3n","Limburgu\xe9s","Lingala","Lituano","Luxemburgu\xe9s","Macedonio","Malagasy","Malayo","Malayalam","Malt\xe9s","Man\xe9s","Maor\xed","Marat\xed","Marshal\xe9s","Mongol","Nauruano","Navajo","Ndonga","Nepal\xed","Noruego","Nyanja","Occitano","Ojibwa","Oriya","Oromo","Os\xe9tico","Pali","Past\xfan","Persa","Polaco","Portugu\xe9s","Punyab\xed","Quechua","Romanche","Rumano","Ruso","Samoano","Sango","Sanskrito","Serbio","Shona","Sindhi","Cingal\xe9s","Eslovaco","Esloveno","Somal\xed","Sotho del sur","Espa\xf1ol","Sundan\xe9s","Suajili","Sueco","Tagalo","Tahitiano","Tayiko","Tamil","T\xe1rtaro","Telug\xfa","Tailand\xe9s","Tibetano","Tigrinya","Tonga","Tsonga","Tswana","Turco","Turcomano","Twi","Ucraniano","Urdu","Uzbeko","Vietnamita","Volap\xfck","Val\xf3n","Gal\xe9s","Wolof","Xhosa","Yidis","Yoruba","Zhuang","Zul\xfa","Otro"],m=["Afganist\xe1n","Albania","Alemania","Andorra","Angola","Antigua y Barbuda","Arabia Saudita","Argelia","Argentina","Armenia","Australia","Austria","Azerbaiy\xe1n","Bahamas","Banglad\xe9s","Barbados","Bar\xe9in","B\xe9lgica","Belice","Ben\xedn","Bielorrusia","Birmania","Bolivia","Bosnia y Herzegovina","Botsuana","Brasil","Brun\xe9i","Bulgaria","Burkina Faso","Burundi","But\xe1n","Cabo Verde","Camboya","Camer\xfan","Canad\xe1","Catar","Chad","Chile","China","Chipre","Colombia","Comoras","Corea del Norte","Corea del Sur","Costa de Marfil","Costa Rica","Croacia","Cuba","Dinamarca","Dominica","Ecuador","Egipto","El Salvador","Emiratos \xc1rabes Unidos","Eritrea","Eslovaquia","Eslovenia","Espa\xf1a","Estados Unidos","Estonia","Esuatini","Etiop\xeda","Filipinas","Finlandia","Fiyi","Francia","Gab\xf3n","Gambia","Georgia","Ghana","Granada","Grecia","Guatemala","Guyana","Guinea","Guinea-Bis\xe1u","Guinea Ecuatorial","Hait\xed","Honduras","Hungr\xeda","India","Indonesia","Irak","Ir\xe1n","Irlanda","Islandia","Islas Marshall","Islas Salom\xf3n","Israel","Italia","Jamaica","Jap\xf3n","Jordania","Kazajist\xe1n","Kenia","Kirguist\xe1n","Kiribati","Kuwait","Laos","Lesoto","Letonia","L\xedbano","Liberia","Libia","Liechtenstein","Lituania","Luxemburgo","Madagascar","Malasia","Malaui","Maldivas","Mal\xed","Malta","Marruecos","Mauricio","Mauritania","M\xe9xico","Micronesia","Moldavia","M\xf3naco","Mongolia","Montenegro","Mozambique","Namibia","Nauru","Nepal","Nicaragua","N\xedger","Nigeria","Noruega","Nueva Zelanda","Om\xe1n","Pa\xedses Bajos","Pakist\xe1n","Palaos","Palestina","Panam\xe1","Pap\xfaa Nueva Guinea","Paraguay","Per\xfa","Polonia","Portugal","Reino Unido","Rep\xfablica Centroafricana","Rep\xfablica Checa","Rep\xfablica del Congo","Rep\xfablica Democr\xe1tica del Congo","Rep\xfablica Dominicana","Ruanda","Ruman\xeda","Rusia","Samoa","San Crist\xf3bal y Nieves","San Marino","San Vicente y las Granadinas","Santa Luc\xeda","Santo Tom\xe9 y Pr\xedncipe","Senegal","Serbia","Seychelles","Sierra Leona","Singapur","Siria","Somalia","Sri Lanka","Sud\xe1frica","Sud\xe1n","Sud\xe1n del Sur","Suecia","Suiza","Surinam","Tailandia","Tanzania","Tayikist\xe1n","Timor Oriental","Togo","Tonga","Trinidad y Tobago","T\xfanez","Turkmenist\xe1n","Turqu\xeda","Tuvalu","Ucrania","Uganda","Uruguay","Uzbekist\xe1n","Vanuatu","Vaticano","Venezuela","Vietnam","Yemen","Yibuti","Zambia","Zimbabue","Otro"];function g(a){let{onRoomCreated:e}=a,{t:o}=(0,s.$G)(["rooms","common"]),[g,h]=(0,i.useState)({nombre:"",juego:"",regiones:[],idiomas:[],paises:[],sistemas:[],min_jugadores:2,max_jugadores:10}),[b,p]=(0,i.useState)(""),[v,S]=(0,i.useState)(""),[x,f]=(0,i.useState)(""),[C,y]=(0,i.useState)(""),[N,j]=(0,i.useState)(""),[k,A]=(0,i.useState)(""),I=async()=>{var a,r,i,l;if(j(""),A(""),!g.nombre||!g.juego||0===((null===(a=g.regiones)||void 0===a?void 0:a.length)||0)||0===((null===(r=g.idiomas)||void 0===r?void 0:r.length)||0)||0===((null===(i=g.paises)||void 0===i?void 0:i.length)||0)||0===((null===(l=g.sistemas)||void 0===l?void 0:l.length)||0)){j(o("create.form.validation.nameRequired"));return}if(!g.min_jugadores||!g.max_jugadores||g.min_jugadores<2||g.max_jugadores<2||g.min_jugadores>g.max_jugadores){j(o("create.form.validation.playersInvalid"));return}console.log("\uD83C\uDFAF Iniciando creaci\xf3n de sala...");let s=await n.O.auth.getUser();if(!s.data.user){console.error("❌ Usuario no autenticado"),j(o("common:errors.loginRequired"));return}console.log("✅ Usuario autenticado:",s.data.user.id);let{data:t}=await n.O.from("rooms").select("id").eq("nombre",g.nombre).maybeSingle();if(t){j(o("create.form.validation.nameExists"));return}let u={...g,creador_id:s.data.user.id};console.log("\uD83D\uDCDD Datos de la sala a insertar:",u);let{data:d,error:c}=await n.O.from("rooms").insert(u).select("id").single();c?(console.error("❌ Error al insertar sala:",c),j(o("common:errors.createFailed",{error:c.message}))):(console.log("✅ Sala creada exitosamente:",d),A(o("create.success")),h({nombre:"",juego:"",regiones:[],idiomas:[],paises:[],sistemas:[],min_jugadores:2,max_jugadores:10}),e&&e(d.id))};function M(a){let{value:e,onChange:n,options:s,placeholder:t}=a,[u,d]=(0,i.useState)(""),c=""===u?s:s.filter(a=>a.toLowerCase().includes(u.toLowerCase()));return(0,r.jsx)(l.hQ,{value:e,onChange:a=>n(null!=a?a:[]),multiple:!0,children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(l.hQ.Input,{className:"p-2 w-full bg-black border border-violet-500 rounded-xl",placeholder:t,onChange:a=>d(a.target.value),onFocus:()=>d("")}),(0,r.jsx)("div",{className:"flex flex-wrap gap-1 p-1",children:e.map(a=>(0,r.jsxs)("span",{className:"bg-violet-500 text-xs px-2 py-1 rounded-full flex items-center",children:[a,(0,r.jsx)("button",{type:"button",className:"ml-1 text-violet-200 hover:text-white",onClick:()=>n(e.filter(e=>e!==a)),children:"\xd7"})]},a))}),"          ",(0,r.jsx)(l.hQ.Options,{className:"absolute z-10 w-full bg-black border border-violet-500 rounded-xl mt-1 max-h-40 overflow-auto",children:0===c.length&&""!==u?(0,r.jsx)("div",{className:"relative cursor-default select-none py-2 px-4 text-gray-400",children:o("common:search.noResults")}):c.map(a=>(0,r.jsxs)(l.hQ.Option,{value:a,className:"p-2 hover:bg-violet-700 cursor-pointer ui-active:bg-violet-600 ui-selected:font-semibold",children:[(0,r.jsx)("span",{children:a}),e.includes(a)&&(0,r.jsx)("span",{className:"ml-2 text-violet-400",children:"✔"})]},a))})]})})}return(0,r.jsxs)("div",{className:"p-4 text-white",children:[(0,r.jsxs)("h2",{className:"text-2xl mb-4",children:["➕ ",o("create.title")]}),(0,r.jsxs)("div",{className:"grid gap-2",children:["        ",(0,r.jsx)("input",{placeholder:o("create.form.placeholders.roomName"),className:"p-2 bg-black border border-violet-500 rounded-xl",value:g.nombre,onChange:a=>h({...g,nombre:a.target.value})}),(0,r.jsx)(l.hQ,{value:g.juego,onChange:a=>h(e=>({...e,juego:null!=a?a:""})),children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(l.hQ.Input,{className:"p-2 w-full bg-black border border-violet-500 rounded-xl",displayValue:a=>a,onChange:a=>p(a.target.value),placeholder:o("create.form.game")}),(0,r.jsx)(l.hQ.Options,{className:"absolute z-10 w-full bg-black border border-violet-500 rounded-xl mt-1 max-h-40 overflow-auto",children:(""===b?t:t.filter(a=>a.toLowerCase().includes(b.toLowerCase()))).map(a=>(0,r.jsx)(l.hQ.Option,{value:a,className:"p-2 hover:bg-violet-700 cursor-pointer ui-active:bg-violet-600 ui-selected:font-semibold",children:a},a))})]})}),"        ",(0,r.jsx)("label",{className:"sr-only",htmlFor:"crear-region",children:o("create.form.region")}),(0,r.jsx)(M,{value:g.regiones||[],onChange:a=>h(e=>({...e,regiones:a})),options:d,placeholder:o("create.form.region")}),"        ",(0,r.jsx)(M,{value:g.idiomas||[],onChange:a=>h(e=>({...e,idiomas:a})),options:c,placeholder:o("create.form.language")}),"        ",(0,r.jsx)(M,{value:g.paises||[],onChange:a=>h(e=>({...e,paises:a})),options:m,placeholder:o("create.form.country")}),(0,r.jsx)(M,{value:g.sistemas||[],onChange:a=>h(e=>({...e,sistemas:a})),options:u,placeholder:o("create.form.platform")}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsx)("input",{type:"number",min:"2",max:"50",placeholder:o("create.form.placeholders.minPlayers"),className:"p-2 bg-black border border-violet-500 rounded-xl",value:g.min_jugadores||"",onChange:a=>h({...g,min_jugadores:a.target.value?parseInt(a.target.value):2})}),(0,r.jsx)("input",{type:"number",min:"2",max:"50",placeholder:o("create.form.placeholders.maxPlayers"),className:"p-2 bg-black border border-violet-500 rounded-xl",value:g.max_jugadores||"",onChange:a=>h({...g,max_jugadores:a.target.value?parseInt(a.target.value):10})}),"        "]}),(0,r.jsxs)("button",{onClick:I,className:"mt-4 w-full px-6 py-4 bg-violet-600 hover:bg-violet-700 rounded-xl text-lg font-bold text-white transition-colors shadow-lg border-2 border-violet-500 hover:border-violet-400",children:["✨ ",o("create.form.submit")]}),N&&(0,r.jsx)("div",{className:"text-red-400 text-sm",children:N}),k&&(0,r.jsx)("div",{className:"text-green-400 text-sm",children:k})]})]})}var h=o(9376);function b(){let a=(0,h.useRouter)(),{t:e}=(0,s.$G)("common");return(0,r.jsxs)("main",{className:"min-h-screen flex flex-col items-center justify-center",children:[(0,r.jsxs)("button",{className:"mb-6 px-4 py-2 bg-neutral-800 hover:bg-neutral-700 rounded-xl text-violet-300",onClick:()=>a.back(),children:["← ",e("navigation.backToRoomSearch")]}),(0,r.jsx)(g,{onRoomCreated:e=>{e?(console.log("\uD83C\uDFAF Redirigiendo a la sala creada:",e),a.push("/room/".concat(e))):a.push("/rooms")}})]})}},3303:function(a,e,o){"use strict";o.d(e,{O:function(){return r}});let r=(0,o(3288).eI)("https://hjgsgockrrnnprpddpsa.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhqZ3Nnb2NrcnJubnBycGRkcHNhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg2OTM2MDIsImV4cCI6MjA2NDI2OTYwMn0.uVhGqEllYz-PmIiizI0DE35Ov0M8CtnurLZp_z2DKEU")}},function(a){a.O(0,[699,501,631,514,81,971,117,744],function(){return a(a.s=4748)}),_N_E=a.O()}]);